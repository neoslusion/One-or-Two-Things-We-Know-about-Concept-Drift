\chapter*{PHỤ LỤC}

\section*{Phụ lục A: Bảng số liệu thống kê chi tiết}

Phần này chứa các bảng số liệu thống kê chi tiết từ các thí nghiệm được thực hiện trong nghiên cứu.

\subsection*{A.1 Kết quả phát hiện trôi dạt theo từng dataset}

\begin{table}[h]
\centering
\caption{Kết quả chi tiết theo dataset}
\begin{tabular}{|l|c|c|c|c|}
\hline
\textbf{Dataset} & \textbf{True Positive} & \textbf{False Positive} & \textbf{Detection Delay} & \textbf{Accuracy} \\
\hline
Abrupt Drift 1 & 0.942 & 0.043 & 15.7 & 0.918 \\
Abrupt Drift 2 & 0.938 & 0.051 & 16.2 & 0.915 \\
Incremental Drift 1 & 0.673 & 0.089 & 89.4 & 0.789 \\
Incremental Drift 2 & 0.689 & 0.076 & 82.1 & 0.801 \\
\hline
\end{tabular}
\end{table}

\subsection*{A.2 Tham số tối ưu cho từng loại drift}

\begin{table}[h]
\centering
\caption{Tham số tối ưu}
\begin{tabular}{|l|c|c|c|c|}
\hline
\textbf{Drift Type} & \textbf{Window Size} & \textbf{Kernel Bandwidth} & \textbf{Significance} & \textbf{Performance} \\
\hline
Abrupt & 50 & 0.5 & 0.05 & 0.918 \\
Incremental & 100 & 1.0 & 0.1 & 0.789 \\
Gradual & 75 & 0.8 & 0.05 & 0.834 \\
\hline
\end{tabular}
\end{table}

\section*{Phụ lục B: Mã giả thuật toán}

\subsection*{B.1 Thuật toán ShapeDD}

\begin{algorithm}
\caption{Shape Drift Detector (ShapeDD)}
\begin{algorithmic}[1]
\REQUIRE Data stream $S$, window size $l_1$, kernel bandwidth $\sigma$, significance threshold $\alpha$
\ENSURE Drift detection signals
\STATE Initialize sliding window $W$ of size $2l_1$
\WHILE{new data point $x_t$ arrives}
    \STATE Update window $W$ with $x_t$
    \IF{$|W| = 2l_1$}
        \STATE Compute kernel matrix $K$ using Gaussian RBF
        \STATE Apply weight function to create contrasting halves
        \STATE Calculate MMD statistic: $MMD^2 = \sum_{i,j} w_i w_j K_{ij}$
        \STATE Apply convolution for shape analysis
        \STATE Identify zero-crossing points
        \IF{zero-crossing detected}
            \STATE Perform permutation test
            \STATE Calculate p-value
            \IF{p-value $< \alpha$}
                \STATE \textbf{Signal drift detection}
            \ENDIF
        \ENDIF
    \ENDIF
\ENDWHILE
\end{algorithmic}
\end{algorithm}

\subsection*{B.2 Thuật toán Meta-learning Adaptation}

\begin{algorithm}
\caption{Meta-learning Adaptation Strategy}
\begin{algorithmic}[1]
\REQUIRE Detected drift characteristics $f_{drift}$, strategy set $\mathcal{S}$, meta-classifier $M$
\ENSURE Selected adaptation strategy $s^*$
\STATE Extract drift features: magnitude, speed, affected dimensions
\STATE Query meta-classifier: $P(s|f_{drift}) = M.predict(f_{drift})$
\STATE Select strategy: $s^* = \arg\max_{s \in \mathcal{S}} P(s|f_{drift})$
\STATE Apply selected strategy to model
\STATE Update meta-classifier with adaptation outcome
\RETURN $s^*$
\end{algorithmic}
\end{algorithm}

\section*{Phụ lục C: Chứng minh lý thuyết}

\subsection*{C.1 Chứng minh tính chất của MMD}

Cho hai phân phối xác suất $P$ và $Q$, Maximum Mean Discrepancy (MMD) được định nghĩa trong không gian RKHS như sau:

\begin{equation}
MMD^2(P, Q) = \mathbb{E}_{X,X' \sim P}[k(X,X')] + \mathbb{E}_{Y,Y' \sim Q}[k(Y,Y')] - 2\mathbb{E}_{X \sim P, Y \sim Q}[k(X,Y)]
\end{equation}

\textbf{Định lý:} MMD là một metric thực sự nếu kernel $k$ là characteristic.

\textbf{Chứng minh:}
\begin{enumerate}
    \item \textit{Tính không âm:} $MMD^2(P,Q) \geq 0$ theo định nghĩa của norm trong RKHS
    \item \textit{Tính đối xứng:} $MMD(P,Q) = MMD(Q,P)$ rõ ràng từ định nghĩa
    \item \textit{Bất đẳng thức tam giác:} Được suy ra từ tính chất của norm trong RKHS
    \item \textit{MMD(P,Q) = 0 khi và chỉ khi P = Q:} Đây là định nghĩa của characteristic kernel
\end{enumerate}

\subsection*{C.2 Độ phức tạp tính toán của ShapeDD}

\textbf{Định lý:} Độ phức tạp tính toán của thuật toán ShapeDD là $O(T \cdot n^2)$ với $T$ là chiều dài stream và $n$ là kích thước window.

\textbf{Chứng minh:}
\begin{itemize}
    \item Tính toán kernel matrix: $O(n^2)$ cho mỗi window
    \item Tính toán MMD: $O(n^2)$ cho mỗi vị trí sliding window
    \item Permutation test: $O(k \cdot n^2)$ với $k$ permutations (thực hiện khi có candidate)
    \item Tổng cộng: $O(T \cdot n^2)$ cho toàn bộ stream
\end{itemize}

\section*{Phụ lục D: Cài đặt và sử dụng}

\subsection*{D.1 Hướng dẫn cài đặt}

\textbf{Yêu cầu hệ thống:}
\begin{itemize}
    \item Python 3.8 trở lên
    \item NumPy, SciPy, scikit-learn
    \item Matplotlib cho visualization
    \item Jupyter notebook (tùy chọn)
\end{itemize}

\textbf{Cài đặt từ source:}
\begin{verbatim}
git clone https://github.com/username/shapedd-concept-drift
cd shapedd-concept-drift
pip install -r requirements.txt
python setup.py install
\end{verbatim}

\subsection*{D.2 Ví dụ sử dụng}

\begin{verbatim}
from shapedd import ShapeDD
from shapedd.datasets import generate_abrupt_drift

# Generate synthetic dataset
data, drift_points = generate_abrupt_drift(n_samples=1000, 
                                          drift_magnitude=0.5)

# Initialize detector
detector = ShapeDD(window_size=50, 
                   kernel_bandwidth=0.5,
                   significance_level=0.05)

# Detect drift
detected_points = detector.fit_detect(data)

# Evaluate performance
from shapedd.evaluation import evaluate_detection
results = evaluate_detection(detected_points, drift_points)
print(f"True Positive Rate: {results['tpr']:.3f}")
print(f"False Positive Rate: {results['fpr']:.3f}")
\end{verbatim}

\section*{Phụ lục E: Kết quả thí nghiệm bổ sung}

\subsection*{E.1 Phân tích sensitivity với noise}

Bảng dưới đây thể hiện hiệu suất của ShapeDD khi có noise với các mức độ khác nhau:

\begin{table}[h]
\centering
\caption{Hiệu suất với noise levels}
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{Noise Level (\%)} & \textbf{Detection Rate} & \textbf{False Alarm Rate} & \textbf{Detection Delay} \\
\hline
0 & 0.942 & 0.043 & 15.7 \\
5 & 0.921 & 0.051 & 17.2 \\
10 & 0.896 & 0.063 & 19.8 \\
15 & 0.847 & 0.078 & 24.1 \\
20 & 0.789 & 0.095 & 31.4 \\
\hline
\end{tabular}
\end{table}

\subsection*{E.2 So sánh chi tiết với baseline methods}

Chi tiết kết quả so sánh với các phương pháp baseline trên nhiều dataset khác nhau được trình bày trong các bảng sau đây:

[Các bảng số liệu chi tiết khác sẽ được thêm vào đây...]
